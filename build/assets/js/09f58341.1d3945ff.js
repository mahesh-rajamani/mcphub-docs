"use strict";(self.webpackChunkmcphub_docs=self.webpackChunkmcphub_docs||[]).push([[351],{405:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"advanced/admin-api-direct","title":"Admin API Direct Access","description":"The MCPHub Admin API provides direct programmatic access to all configuration and management operations without using the MCP Studio frontend. This is ideal for automation, CI/CD pipelines, and headless deployments.","source":"@site/docs/advanced/admin-api-direct.md","sourceDirName":"advanced","slug":"/advanced/admin-api-direct","permalink":"/mcphub-docs/docs/latest/advanced/admin-api-direct","draft":false,"unlisted":false,"editUrl":"https://github.com/mahesh-rajamani/mcphub-docs/tree/main/docs/advanced/admin-api-direct.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Storage & Encryption","permalink":"/mcphub-docs/docs/latest/advanced/storage-encryption"}}');var s=i(4848),t=i(8453);const r={},o="Admin API Direct Access",d={},l=[{value:"Base URL and Authentication",id:"base-url-and-authentication",level:2},{value:"Admin API Endpoint",id:"admin-api-endpoint",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Authentication Header",id:"authentication-header",level:3},{value:"Core API Endpoints",id:"core-api-endpoints",level:2},{value:"Health and Status",id:"health-and-status",level:3},{value:"Get System Health",id:"get-system-health",level:4},{value:"Get System Information",id:"get-system-information",level:4},{value:"Configuration Management",id:"configuration-management",level:2},{value:"List All Configurations",id:"list-all-configurations",level:3},{value:"Get Specific Configuration",id:"get-specific-configuration",level:3},{value:"Create New Configuration",id:"create-new-configuration",level:3},{value:"Update Configuration",id:"update-configuration",level:3},{value:"Delete Configuration",id:"delete-configuration",level:3},{value:"Variable Management",id:"variable-management",level:2},{value:"Get Configuration Variables",id:"get-configuration-variables",level:3},{value:"Set Variable Value",id:"set-variable-value",level:3},{value:"Delete Variable Value",id:"delete-variable-value",level:3},{value:"Version Management",id:"version-management",level:2},{value:"List Configuration Versions",id:"list-configuration-versions",level:3},{value:"Create New Version",id:"create-new-version",level:3},{value:"Get Version Diff",id:"get-version-diff",level:3},{value:"Tenant Management",id:"tenant-management",level:2},{value:"List Tenants",id:"list-tenants",level:3},{value:"Create Tenant",id:"create-tenant",level:3},{value:"Bulk Operations",id:"bulk-operations",level:2},{value:"Bulk Configuration Import",id:"bulk-configuration-import",level:3},{value:"Bulk Variable Update",id:"bulk-variable-update",level:3},{value:"Audit and Monitoring",id:"audit-and-monitoring",level:2},{value:"Get Audit Logs",id:"get-audit-logs",level:3},{value:"Get Metrics",id:"get-metrics",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Standard Error Response",id:"standard-error-response",level:3},{value:"Common Error Codes",id:"common-error-codes",level:3},{value:"Automation Examples",id:"automation-examples",level:2},{value:"Deployment Script",id:"deployment-script",level:3},{value:"Variable Management Script",id:"variable-management-script",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"API Security Best Practices",id:"api-security-best-practices",level:3},{value:"Secure Script Usage",id:"secure-script-usage",level:3},{value:"Network Access",id:"network-access",level:3},{value:"Related Topics",id:"related-topics",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"admin-api-direct-access",children:"Admin API Direct Access"})}),"\n",(0,s.jsx)(e.p,{children:"The MCPHub Admin API provides direct programmatic access to all configuration and management operations without using the MCP Studio frontend. This is ideal for automation, CI/CD pipelines, and headless deployments."}),"\n",(0,s.jsx)(e.h2,{id:"base-url-and-authentication",children:"Base URL and Authentication"}),"\n",(0,s.jsx)(e.h3,{id:"admin-api-endpoint",children:"Admin API Endpoint"}),"\n",(0,s.jsxs)(e.p,{children:["The Admin API is available at the same port as the MCP Bridge with the ",(0,s.jsx)(e.code,{children:"/admin"})," prefix:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"http://localhost:8080/admin\n"})}),"\n",(0,s.jsx)(e.h3,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsx)(e.p,{children:"Admin API uses HTTP Basic Authentication with configurable credentials:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Default credentials (development only)\nUsername: admin\nPassword: admin\n\n# Production credentials (set via environment variables)\nMCPHUB_ADMIN_USERNAME=your-admin-user\nMCPHUB_ADMIN_PASSWORD=your-secure-password\n"})}),"\n",(0,s.jsx)(e.h3,{id:"authentication-header",children:"Authentication Header"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Basic Auth header\nAuthorization: Basic YWRtaW46YWRtaW4=\n\n# Or use curl with credentials\ncurl -u admin:admin http://localhost:8080/admin/health\n"})}),"\n",(0,s.jsx)(e.h2,{id:"core-api-endpoints",children:"Core API Endpoints"}),"\n",(0,s.jsx)(e.h3,{id:"health-and-status",children:"Health and Status"}),"\n",(0,s.jsx)(e.h4,{id:"get-system-health",children:"Get System Health"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/health\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "status": "UP",\n  "checks": [\n    {\n      "name": "storage",\n      "status": "UP",\n      "data": {\n        "provider": "database",\n        "connection": "healthy"\n      }\n    },\n    {\n      "name": "encryption",\n      "status": "UP", \n      "data": {\n        "algorithm": "AES-256-GCM",\n        "keyStatus": "active"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h4,{id:"get-system-information",children:"Get System Information"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/info\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "application": {\n    "name": "mcp-bridge",\n    "version": "1.0.0",\n    "buildTime": "2024-01-15T10:30:00Z"\n  },\n  "system": {\n    "javaVersion": "21.0.1",\n    "memoryUsed": "256MB",\n    "memoryMax": "1GB"\n  },\n  "storage": {\n    "provider": "database",\n    "configurations": 15,\n    "tenants": 3\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,s.jsx)(e.h3,{id:"list-all-configurations",children:"List All Configurations"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/configurations\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Query Parameters:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"tenant"}),": Filter by tenant ID"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"status"}),": Filter by status (ACTIVE, ARCHIVED, DRAFT)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"limit"}),": Maximum results (default: 100)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"offset"}),": Pagination offset"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'curl -u admin:admin \\\n  "http://localhost:8080/admin/configurations?tenant=default&limit=10"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "configurations": [\n    {\n      "id": "123e4567-e89b-12d3-a456-426614174000",\n      "tenantId": "default",\n      "mcpName": "weather-api",\n      "version": "1.0.0",\n      "description": "Weather information API",\n      "status": "ACTIVE",\n      "createdAt": "2024-01-15T10:30:00Z",\n      "updatedAt": "2024-01-15T10:30:00Z",\n      "endpointCount": 3,\n      "variableCount": 2\n    }\n  ],\n  "pagination": {\n    "total": 15,\n    "limit": 10,\n    "offset": 0,\n    "hasMore": true\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"get-specific-configuration",children:"Get Specific Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/configurations/{configId}\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'curl -u admin:admin \\\n  "http://localhost:8080/admin/configurations/123e4567-e89b-12d3-a456-426614174000"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "id": "123e4567-e89b-12d3-a456-426614174000",\n  "tenantId": "default",\n  "mcpName": "weather-api",\n  "version": "1.0.0",\n  "description": "Weather information API",\n  "configuration": {\n    "mcpName": "weather-api",\n    "description": "Weather information API",\n    "userVariables": [\n      {\n        "name": "apiKey",\n        "description": "OpenWeather API key",\n        "type": "token",\n        "required": true,\n        "sensitive": true\n      }\n    ],\n    "baseConfigs": {\n      "rest": {\n        "baseUrl": "https://api.openweathermap.org/data/2.5"\n      }\n    },\n    "endpoints": [\n      {\n        "name": "getCurrentWeather",\n        "protocol": "rest",\n        "method": "GET",\n        "path": "/weather",\n        "description": "Get current weather conditions"\n      }\n    ]\n  },\n  "metadata": {\n    "tags": ["weather", "api"],\n    "documentation": "https://docs.example.com/weather-api"\n  },\n  "status": "ACTIVE",\n  "createdAt": "2024-01-15T10:30:00Z",\n  "updatedAt": "2024-01-15T10:30:00Z"\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"create-new-configuration",children:"Create New Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"POST /admin/configurations\nAuthorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Request Body:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "tenantId": "default",\n  "configuration": {\n    "mcpName": "github-api",\n    "description": "GitHub repository management API",\n    "userVariables": [\n      {\n        "name": "githubToken",\n        "description": "GitHub personal access token",\n        "type": "token",\n        "required": true,\n        "sensitive": true\n      }\n    ],\n    "baseConfigs": {\n      "rest": {\n        "baseUrl": "https://api.github.com",\n        "headers": {\n          "Accept": "application/vnd.github.v3+json",\n          "Authorization": "token {{githubToken}}"\n        }\n      }\n    },\n    "endpoints": [\n      {\n        "name": "listRepositories",\n        "protocol": "rest",\n        "method": "GET",\n        "path": "/user/repos",\n        "description": "List repositories for the authenticated user"\n      }\n    ]\n  },\n  "metadata": {\n    "tags": ["github", "version-control"],\n    "version": "1.0.0"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'curl -u admin:admin \\\n  -X POST "http://localhost:8080/admin/configurations" \\\n  -H "Content-Type: application/json" \\\n  -d @github-mcp.json\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "id": "456e7890-e89b-12d3-a456-426614174001",\n  "tenantId": "default",\n  "mcpName": "github-api",\n  "version": "1.0.0",\n  "status": "ACTIVE",\n  "createdAt": "2024-01-15T11:00:00Z",\n  "mcpEndpoint": "http://localhost:8080/github-api/mcp"\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"update-configuration",children:"Update Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"PUT /admin/configurations/{configId}\nAuthorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Request Body:"})," Same as create, with updated configuration"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'curl -u admin:admin \\\n  -X PUT "http://localhost:8080/admin/configurations/456e7890-e89b-12d3-a456-426614174001" \\\n  -H "Content-Type: application/json" \\\n  -d @updated-github-mcp.json\n'})}),"\n",(0,s.jsx)(e.h3,{id:"delete-configuration",children:"Delete Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"DELETE /admin/configurations/{configId}\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'curl -u admin:admin \\\n  -X DELETE "http://localhost:8080/admin/configurations/456e7890-e89b-12d3-a456-426614174001"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "message": "Configuration deleted successfully",\n  "id": "456e7890-e89b-12d3-a456-426614174001"\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"variable-management",children:"Variable Management"}),"\n",(0,s.jsx)(e.h3,{id:"get-configuration-variables",children:"Get Configuration Variables"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/configurations/{configId}/variables\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "variables": [\n    {\n      "id": "var-123",\n      "name": "apiKey",\n      "type": "token",\n      "description": "OpenWeather API key",\n      "required": true,\n      "sensitive": true,\n      "hasValue": true,\n      "createdAt": "2024-01-15T10:30:00Z"\n    },\n    {\n      "id": "var-456", \n      "name": "maxResults",\n      "type": "number",\n      "description": "Maximum results per request",\n      "required": false,\n      "sensitive": false,\n      "defaultValue": "10",\n      "hasValue": false,\n      "createdAt": "2024-01-15T10:30:00Z"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"set-variable-value",children:"Set Variable Value"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"PUT /admin/configurations/{configId}/variables/{variableName}\nAuthorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Request Body:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "value": "your-secret-api-key",\n  "description": "Updated API key for production"\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'curl -u admin:admin \\\n  -X PUT "http://localhost:8080/admin/configurations/123e4567-e89b-12d3-a456-426614174000/variables/apiKey" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"value": "sk-prod-123456789"}\'\n'})}),"\n",(0,s.jsx)(e.h3,{id:"delete-variable-value",children:"Delete Variable Value"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"DELETE /admin/configurations/{configId}/variables/{variableName}\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.h2,{id:"version-management",children:"Version Management"}),"\n",(0,s.jsx)(e.h3,{id:"list-configuration-versions",children:"List Configuration Versions"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/configurations/{configId}/versions\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "versions": [\n    {\n      "version": "1.2.0",\n      "description": "Added weather forecast endpoint",\n      "createdAt": "2024-01-15T12:00:00Z",\n      "createdBy": "admin",\n      "changeCount": 2,\n      "status": "ACTIVE"\n    },\n    {\n      "version": "1.1.0", \n      "description": "Updated authentication method",\n      "createdAt": "2024-01-10T10:00:00Z",\n      "createdBy": "admin", \n      "changeCount": 1,\n      "status": "ARCHIVED"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"create-new-version",children:"Create New Version"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"POST /admin/configurations/{configId}/versions\nAuthorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Request Body:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "version": "1.3.0",\n  "description": "Added air pollution endpoint",\n  "configuration": {\n    // Updated Universal Schema configuration\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"get-version-diff",children:"Get Version Diff"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/configurations/{configId}/versions/{fromVersion}/diff/{toVersion}\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "fromVersion": "1.1.0",\n  "toVersion": "1.2.0", \n  "changes": [\n    {\n      "type": "added",\n      "path": "endpoints[2]",\n      "description": "Added new endpoint: getAirPollution"\n    },\n    {\n      "type": "modified",\n      "path": "baseConfigs.rest.headers",\n      "description": "Updated authentication headers"\n    }\n  ],\n  "summary": {\n    "added": 1,\n    "modified": 1,\n    "removed": 0\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"tenant-management",children:"Tenant Management"}),"\n",(0,s.jsx)(e.h3,{id:"list-tenants",children:"List Tenants"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/tenants\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "tenants": [\n    {\n      "id": "default",\n      "name": "Default Tenant",\n      "description": "Default tenant for single-tenant deployments",\n      "configurationCount": 15,\n      "status": "ACTIVE",\n      "createdAt": "2024-01-01T00:00:00Z"\n    },\n    {\n      "id": "acme-corp",\n      "name": "ACME Corporation", \n      "description": "ACME Corp tenant",\n      "configurationCount": 8,\n      "status": "ACTIVE",\n      "createdAt": "2024-01-05T09:00:00Z"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"create-tenant",children:"Create Tenant"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"POST /admin/tenants\nAuthorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Request Body:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "id": "startup-inc",\n  "name": "Startup Inc.",\n  "description": "Startup Inc. tenant for development",\n  "metadata": {\n    "contact": "admin@startup.com",\n    "tier": "premium"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"bulk-operations",children:"Bulk Operations"}),"\n",(0,s.jsx)(e.h3,{id:"bulk-configuration-import",children:"Bulk Configuration Import"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"POST /admin/configurations/bulk\nAuthorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Request Body:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "tenantId": "default",\n  "configurations": [\n    {\n      "mcpName": "config1",\n      "configuration": { /* Universal Schema */ }\n    },\n    {\n      "mcpName": "config2", \n      "configuration": { /* Universal Schema */ }\n    }\n  ],\n  "options": {\n    "skipExisting": true,\n    "validateOnly": false\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"bulk-variable-update",children:"Bulk Variable Update"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"PUT /admin/configurations/{configId}/variables/bulk\nAuthorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Request Body:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "variables": {\n    "apiKey": "new-api-key-value",\n    "environment": "production",\n    "maxRetries": "5"\n  },\n  "options": {\n    "createMissing": false,\n    "validateTypes": true\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"audit-and-monitoring",children:"Audit and Monitoring"}),"\n",(0,s.jsx)(e.h3,{id:"get-audit-logs",children:"Get Audit Logs"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/audit\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Query Parameters:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"tenant"}),": Filter by tenant"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"user"}),": Filter by user"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"action"}),": Filter by action type"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"resource"}),": Filter by resource type"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"from"}),": Start date (ISO format)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"to"}),": End date (ISO format)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"limit"}),": Maximum results"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"offset"}),": Pagination offset"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'curl -u admin:admin \\\n  "http://localhost:8080/admin/audit?action=CREATE&from=2024-01-15T00:00:00Z&limit=50"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "logs": [\n    {\n      "id": "audit-123",\n      "tenantId": "default",\n      "userId": "admin",\n      "action": "CREATE",\n      "resourceType": "CONFIGURATION",\n      "resourceId": "123e4567-e89b-12d3-a456-426614174000",\n      "resourceName": "weather-api",\n      "details": {\n        "endpointCount": 3,\n        "variableCount": 2\n      },\n      "ipAddress": "192.168.1.100",\n      "userAgent": "curl/7.68.0",\n      "timestamp": "2024-01-15T10:30:00Z"\n    }\n  ],\n  "pagination": {\n    "total": 150,\n    "limit": 50,\n    "offset": 0,\n    "hasMore": true\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"get-metrics",children:"Get Metrics"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:"GET /admin/metrics\nAuthorization: Basic YWRtaW46YWRtaW4=\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Response:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "system": {\n    "uptime": "72h15m30s",\n    "memoryUsage": {\n      "used": "256MB",\n      "max": "1GB",\n      "percentage": 25.6\n    },\n    "requestCount": 15847,\n    "errorRate": 0.02\n  },\n  "storage": {\n    "provider": "database",\n    "connectionPoolActive": 8,\n    "connectionPoolMax": 16,\n    "queryLatencyP95": "15ms"\n  },\n  "mcp": {\n    "activeConfigurations": 15,\n    "totalRequests": 8934,\n    "averageResponseTime": "45ms"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(e.h3,{id:"standard-error-response",children:"Standard Error Response"}),"\n",(0,s.jsx)(e.p,{children:"All error responses follow this format:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "error": {\n    "code": "CONFIGURATION_NOT_FOUND",\n    "message": "Configuration with ID \'123\' not found",\n    "details": {\n      "configId": "123",\n      "tenant": "default"\n    },\n    "timestamp": "2024-01-15T10:30:00Z",\n    "path": "/admin/configurations/123"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"common-error-codes",children:"Common Error Codes"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"AUTHENTICATION_REQUIRED"})," (401): Missing or invalid credentials"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"FORBIDDEN"})," (403): Insufficient permissions"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"CONFIGURATION_NOT_FOUND"})," (404): Configuration doesn't exist"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"VALIDATION_ERROR"})," (400): Invalid request data"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"TENANT_NOT_FOUND"})," (404): Tenant doesn't exist"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"VARIABLE_NOT_FOUND"})," (404): Variable doesn't exist"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ENCRYPTION_ERROR"})," (500): Encryption/decryption failure"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"STORAGE_ERROR"})," (500): Database or storage error"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"automation-examples",children:"Automation Examples"}),"\n",(0,s.jsx)(e.h3,{id:"deployment-script",children:"Deployment Script"}),"\n",(0,s.jsx)(e.p,{children:"Create a script to deploy MCP configurations programmatically:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# deploy-mcp.sh - Deploy MCP configuration via Admin API\n\nset -e\n\nMCP_CONFIG_FILE=$1\nMCPHUB_URL=${MCPHUB_URL:-https://your-mcphub-instance.com}\nADMIN_USER=${ADMIN_USER:-admin}\nADMIN_PASS=${ADMIN_PASS}\n\nif [ -z "$ADMIN_PASS" ]; then\n  echo "Error: ADMIN_PASS environment variable must be set"\n  exit 1\nfi\n\n# Deploy configuration\necho "Deploying MCP configuration..."\nRESPONSE=$(curl -u "$ADMIN_USER:$ADMIN_PASS" \\\n  -X POST "$MCPHUB_URL/admin/configurations" \\\n  -H "Content-Type: application/json" \\\n  -d @"$MCP_CONFIG_FILE")\n\nCONFIG_ID=$(echo "$RESPONSE" | jq -r \'.id\')\nMCP_ENDPOINT=$(echo "$RESPONSE" | jq -r \'.mcpEndpoint\')\n\necho "\u2705 MCP deployed successfully!"\necho "Configuration ID: $CONFIG_ID"\necho "MCP Endpoint: $MCP_ENDPOINT"\n\n# Test MCP endpoint\necho "Testing MCP endpoint..."\ncurl -X POST "$MCP_ENDPOINT" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"jsonrpc": "2.0", "id": 1, "method": "tools/list"}\'\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Usage:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Set your admin password\nexport ADMIN_PASS="your-admin-password"\n\n# Deploy your MCP configuration\n./deploy-mcp.sh my-weather-api.json\n'})}),"\n",(0,s.jsx)(e.h3,{id:"variable-management-script",children:"Variable Management Script"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\n# manage-variables.py - Manage MCP variables via Admin API\n\nimport requests\nimport json\nimport os\nfrom base64 import b64encode\n\nclass MCPHubAdmin:\n    def __init__(self, base_url, username, password):\n        self.base_url = base_url\n        auth_string = f"{username}:{password}"\n        self.auth_header = {\n            \'Authorization\': f\'Basic {b64encode(auth_string.encode()).decode()}\'\n        }\n    \n    def set_variable(self, config_id, variable_name, value):\n        """Set a variable value"""\n        url = f"{self.base_url}/admin/configurations/{config_id}/variables/{variable_name}"\n        response = requests.put(\n            url,\n            headers={**self.auth_header, \'Content-Type\': \'application/json\'},\n            json={\'value\': value}\n        )\n        response.raise_for_status()\n        return response.json()\n    \n    def get_variables(self, config_id):\n        """Get all variables for a configuration"""\n        url = f"{self.base_url}/admin/configurations/{config_id}/variables"\n        response = requests.get(url, headers=self.auth_header)\n        response.raise_for_status()\n        return response.json()\n\n# Usage example\nadmin = MCPHubAdmin(\n    base_url="https://your-mcphub-instance.com",\n    username=os.getenv("ADMIN_USER", "admin"),\n    password=os.getenv("ADMIN_PASS")\n)\n\n# Set variables for your MCP configuration\nconfig_id = "your-config-id-here"\nadmin.set_variable(config_id, "apiKey", os.getenv("YOUR_API_KEY"))\nadmin.set_variable(config_id, "environment", "production")\n\nprint("\u2705 Variables updated successfully!")\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Usage:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Set required environment variables\nexport ADMIN_PASS="your-admin-password"\nexport YOUR_API_KEY="your-actual-api-key"\n\n# Run the script\npython3 manage-variables.py\n'})}),"\n",(0,s.jsx)(e.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,s.jsx)(e.h3,{id:"api-security-best-practices",children:"API Security Best Practices"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Strong Passwords"}),": Use strong, unique admin passwords"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"HTTPS Only"}),": Always use HTTPS for admin API access in production"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"IP Restrictions"}),": Ask your administrator to restrict admin API access to trusted IPs"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Audit Logging"}),": All admin API usage is automatically logged"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Credential Rotation"}),": Regularly update admin passwords"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Environment Variables"}),": Never hardcode credentials in scripts"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"secure-script-usage",children:"Secure Script Usage"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u2705 Good Practice:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Use environment variables for credentials\nexport ADMIN_PASS="your-secure-password"\nexport API_KEY="your-api-key"\n\n# Never hardcode in scripts\n./deploy-mcp.sh config.json\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u274c Bad Practice:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Don\'t hardcode credentials in scripts\nADMIN_PASS="password123"  # Visible in process lists and logs\n'})}),"\n",(0,s.jsx)(e.h3,{id:"network-access",children:"Network Access"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"VPN Access"}),": Use VPN when accessing admin API remotely"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Firewall Rules"}),": Ensure only authorized networks can reach admin endpoints"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Private Networks"}),": Keep admin API on private networks when possible"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"../configuration/authentication.md",children:"Authentication Configuration"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/mcphub-docs/docs/latest/advanced/storage-encryption",children:"Storage & Encryption"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"../api-reference/admin-api.md",children:"API Reference"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"../deployment/docker.md",children:"Deployment Guide"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>o});var a=i(6540);const s={},t=a.createContext(s);function r(n){const e=a.useContext(t);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),a.createElement(t.Provider,{value:e},n.children)}}}]);