"use strict";(self.webpackChunkmcphub_docs=self.webpackChunkmcphub_docs||[]).push([[774],{8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>t});var i=r(6540);const a={},s=i.createContext(a);function d(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),i.createElement(s.Provider,{value:n},e.children)}},9292:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"advanced/header-forwarding","title":"Header Forwarding","description":"Header forwarding is a powerful feature in MCPHub that enables seamless authentication and API integration by capturing headers from MCP requests and forwarding them to backend APIs. This allows for transparent authentication passthrough and custom header management.","source":"@site/docs/advanced/header-forwarding.md","sourceDirName":"advanced","slug":"/advanced/header-forwarding","permalink":"/mcphub-docs/docs/latest/advanced/header-forwarding","draft":false,"unlisted":false,"editUrl":"https://github.com/mahesh-rajamani/mcphub-docs/tree/main/docs/advanced/header-forwarding.md","tags":[],"version":"current","frontMatter":{}}');var a=r(4848),s=r(8453);const d={},t="Header Forwarding",o={},l=[{value:"Overview",id:"overview",level:2},{value:"Configuration Structure",id:"configuration-structure",level:2},{value:"Header Forwarding Rules",id:"header-forwarding-rules",level:2},{value:"Required Properties",id:"required-properties",level:3},{value:"Rule Examples",id:"rule-examples",level:3},{value:"Basic Authorization Forwarding",id:"basic-authorization-forwarding",level:4},{value:"API Key Mapping",id:"api-key-mapping",level:4},{value:"Optional Context Headers",id:"optional-context-headers",level:4},{value:"Configuration in MCP Studio",id:"configuration-in-mcp-studio",level:2},{value:"Adding Header Forwarding Rules",id:"adding-header-forwarding-rules",level:3},{value:"UI Interface",id:"ui-interface",level:3},{value:"Testing Header Forwarding",id:"testing-header-forwarding",level:2},{value:"Test Interface",id:"test-interface",level:3},{value:"Quick-Add Buttons",id:"quick-add-buttons",level:3},{value:"Test Example",id:"test-example",level:3},{value:"Common Use Cases",id:"common-use-cases",level:2},{value:"Multi-Tenant SaaS Applications",id:"multi-tenant-saas-applications",level:3},{value:"API Gateway Integration",id:"api-gateway-integration",level:3},{value:"Legacy System Integration",id:"legacy-system-integration",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Header Validation",id:"header-validation",level:3},{value:"Sensitive Data Protection",id:"sensitive-data-protection",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Backend Implementation",id:"backend-implementation",level:2},{value:"Java/Quarkus Backend",id:"javaquarkus-backend",level:3},{value:"Execution Context",id:"execution-context",level:3},{value:"Debugging Header Forwarding",id:"debugging-header-forwarding",level:2},{value:"Enable Debug Logging",id:"enable-debug-logging",level:3},{value:"Debug Output Example",id:"debug-output-example",level:3},{value:"Common Issues",id:"common-issues",level:3},{value:"Advanced Scenarios",id:"advanced-scenarios",level:2},{value:"Dynamic Header Transformation",id:"dynamic-header-transformation",level:3},{value:"Conditional Forwarding",id:"conditional-forwarding",level:3},{value:"Multi-Protocol Support",id:"multi-protocol-support",level:3},{value:"Related Topics",id:"related-topics",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"header-forwarding",children:"Header Forwarding"})}),"\n",(0,a.jsx)(n.p,{children:"Header forwarding is a powerful feature in MCPHub that enables seamless authentication and API integration by capturing headers from MCP requests and forwarding them to backend APIs. This allows for transparent authentication passthrough and custom header management."}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"The header forwarding system supports two forwarding modes:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Same-name forwarding"}),": Forward header with identical name (e.g., ",(0,a.jsx)(n.code,{children:"Authorization"})," \u2192 ",(0,a.jsx)(n.code,{children:"Authorization"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Name mapping"}),": Forward header with different name (e.g., ",(0,a.jsx)(n.code,{children:"Authorization"})," \u2192 ",(0,a.jsx)(n.code,{children:"X-API-Key"}),")"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This enables complex authentication scenarios where:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Different APIs expect different header names"}),"\n",(0,a.jsx)(n.li,{children:"Multiple authentication tokens need to be passed"}),"\n",(0,a.jsx)(n.li,{children:"Custom headers need to be forwarded for request context"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"configuration-structure",children:"Configuration Structure"}),"\n",(0,a.jsxs)(n.p,{children:["Header forwarding rules are defined in the ",(0,a.jsx)(n.code,{children:"auth.headerForwarding"})," array within base configurations:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "baseConfigs": {\n    "rest": {\n      "baseUrl": "https://api.example.com",\n      "auth": {\n        "type": "none",\n        "headerForwarding": [\n          {\n            "sourceHeader": "Authorization",\n            "targetHeader": null,\n            "required": true\n          },\n          {\n            "sourceHeader": "X-API-Key",\n            "targetHeader": "Token",\n            "required": false\n          },\n          {\n            "sourceHeader": "X-Tenant-ID",\n            "targetHeader": "X-Organization-ID",\n            "required": true\n          }\n        ]\n      }\n    }\n  }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"header-forwarding-rules",children:"Header Forwarding Rules"}),"\n",(0,a.jsx)(n.p,{children:"Each forwarding rule supports the following properties:"}),"\n",(0,a.jsx)(n.h3,{id:"required-properties",children:"Required Properties"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"sourceHeader"})}),": Header name to capture from incoming MCP request"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"targetHeader"})}),": Header name for backend API (optional - defaults to sourceHeader)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"required"})}),": Whether header must be present in the request"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"rule-examples",children:"Rule Examples"}),"\n",(0,a.jsx)(n.h4,{id:"basic-authorization-forwarding",children:"Basic Authorization Forwarding"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "sourceHeader": "Authorization",\n  "required": true\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Captures ",(0,a.jsx)(n.code,{children:"Authorization"})," header from MCP request"]}),"\n",(0,a.jsxs)(n.li,{children:["Forwards as ",(0,a.jsx)(n.code,{children:"Authorization"})," to backend API"]}),"\n",(0,a.jsx)(n.li,{children:"Request fails if header is missing"}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"api-key-mapping",children:"API Key Mapping"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "sourceHeader": "Authorization", \n  "targetHeader": "X-API-Key",\n  "required": true\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Captures ",(0,a.jsx)(n.code,{children:"Authorization"})," header from MCP request"]}),"\n",(0,a.jsxs)(n.li,{children:["Forwards as ",(0,a.jsx)(n.code,{children:"X-API-Key"})," to backend API"]}),"\n",(0,a.jsx)(n.li,{children:"Useful when backend expects different header name"}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"optional-context-headers",children:"Optional Context Headers"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "sourceHeader": "X-User-ID",\n  "targetHeader": "X-Context-User",\n  "required": false\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Captures ",(0,a.jsx)(n.code,{children:"X-User-ID"})," if present"]}),"\n",(0,a.jsxs)(n.li,{children:["Forwards as ",(0,a.jsx)(n.code,{children:"X-Context-User"})]}),"\n",(0,a.jsx)(n.li,{children:"Request continues if header is missing"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"configuration-in-mcp-studio",children:"Configuration in MCP Studio"}),"\n",(0,a.jsx)(n.h3,{id:"adding-header-forwarding-rules",children:"Adding Header Forwarding Rules"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Open MCP Configuration"})," in MCP Studio"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Navigate to Protocol \u2192 Basic Info"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Scroll to Authentication section"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Add Header Forwarding Rule"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Source Header"}),": Header name from MCP request"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Target Header"}),": Header name for backend (leave empty for same name)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Required"}),": Check if header must be present"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"ui-interface",children:"UI Interface"}),"\n",(0,a.jsx)(n.p,{children:"The MCP Studio provides an intuitive interface for managing header forwarding:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// Header Forwarding Editor Component\n<HeaderForwardingEditor\n  rules={headerForwardingRules}\n  onChange={setHeaderForwardingRules}\n/>\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Features:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Add/remove rules dynamically"}),"\n",(0,a.jsx)(n.li,{children:"Validation for header names"}),"\n",(0,a.jsx)(n.li,{children:"Required field indicators"}),"\n",(0,a.jsx)(n.li,{children:"Common header suggestions (Authorization, X-API-Key, etc.)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"testing-header-forwarding",children:"Testing Header Forwarding"}),"\n",(0,a.jsx)(n.h3,{id:"test-interface",children:"Test Interface"}),"\n",(0,a.jsx)(n.p,{children:"The Enhanced Test Framework includes complete header forwarding support:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Navigate to Test Tab"})," in MCP Studio"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Expand Test Headers section"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Add headers"})," that match your forwarding configuration"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Execute test"})," to verify forwarding works correctly"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"quick-add-buttons",children:"Quick-Add Buttons"}),"\n",(0,a.jsx)(n.p,{children:"The test interface provides quick-add buttons for configured headers:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'// Example: If you have Authorization forwarding configured\n{\n  "sourceHeader": "Authorization",\n  "required": true\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"The test interface will show:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"[+ Authorization]"})," button for quick header addition"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Validation"})," that only configured headers are allowed"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sensitive masking"})," for authentication tokens"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"test-example",children:"Test Example"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "auth": {\n    "headerForwarding": [\n      {\n        "sourceHeader": "Authorization",\n        "targetHeader": "Bearer-Token",\n        "required": true\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Test Headers:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "Authorization": "Bearer eyJhbGciOiJIUzI1NiIs..."\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Result:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["MCP request receives ",(0,a.jsx)(n.code,{children:"Authorization: Bearer eyJhbGciOiJIUzI1NiIs..."})]}),"\n",(0,a.jsxs)(n.li,{children:["Backend API receives ",(0,a.jsx)(n.code,{children:"Bearer-Token: Bearer eyJhbGciOiJIUzI1NiIs..."})]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"common-use-cases",children:"Common Use Cases"}),"\n",(0,a.jsx)(n.h3,{id:"multi-tenant-saas-applications",children:"Multi-Tenant SaaS Applications"}),"\n",(0,a.jsx)(n.p,{children:"Forward tenant context to backend APIs:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "auth": {\n    "headerForwarding": [\n      {\n        "sourceHeader": "Authorization",\n        "required": true\n      },\n      {\n        "sourceHeader": "X-Tenant-ID",\n        "required": true\n      },\n      {\n        "sourceHeader": "X-User-Role",\n        "targetHeader": "X-Permission-Level",\n        "required": false\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"api-gateway-integration",children:"API Gateway Integration"}),"\n",(0,a.jsx)(n.p,{children:"Forward multiple authentication headers:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "auth": {\n    "headerForwarding": [\n      {\n        "sourceHeader": "X-API-Key",\n        "targetHeader": "Authorization",\n        "required": true\n      },\n      {\n        "sourceHeader": "X-Client-ID",\n        "required": true\n      },\n      {\n        "sourceHeader": "X-Request-ID",\n        "required": false\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"legacy-system-integration",children:"Legacy System Integration"}),"\n",(0,a.jsx)(n.p,{children:"Map modern headers to legacy formats:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "auth": {\n    "headerForwarding": [\n      {\n        "sourceHeader": "Authorization",\n        "targetHeader": "X-Auth-Token",\n        "required": true\n      },\n      {\n        "sourceHeader": "Accept",\n        "targetHeader": "Content-Type-Accept",\n        "required": false\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,a.jsx)(n.h3,{id:"header-validation",children:"Header Validation"}),"\n",(0,a.jsx)(n.p,{children:"MCPHub validates forwarded headers:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Name validation"}),": Headers must be valid HTTP header names"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Value sanitization"}),": Removes potentially dangerous characters"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Size limits"}),": Prevents oversized header values"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Required enforcement"}),": Ensures required headers are present"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"sensitive-data-protection",children:"Sensitive Data Protection"}),"\n",(0,a.jsx)(n.p,{children:"Headers marked as sensitive are protected:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "sourceHeader": "Authorization",\n  "targetHeader": "X-Secret-Token",\n  "required": true,\n  "sensitive": true  // Masks in logs and UI\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Protection features:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Masked in logs"}),": Headers not logged in debug output"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"UI masking"}),": Shown as password fields in test interface"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Audit trails"}),": Access tracking without exposing values"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Minimize forwarded headers"}),": Only forward necessary headers"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Use specific names"}),": Avoid generic header names that might conflict"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Validate requirements"}),": Mark critical headers as required"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Monitor usage"}),": Track header forwarding in audit logs"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Rotate tokens"}),": Regularly rotate forwarded authentication tokens"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"backend-implementation",children:"Backend Implementation"}),"\n",(0,a.jsx)(n.h3,{id:"javaquarkus-backend",children:"Java/Quarkus Backend"}),"\n",(0,a.jsx)(n.p,{children:"Header forwarding is implemented in the REST protocol adapter:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@ApplicationScoped\npublic class RestProtocolAdapter {\n    \n    public CompletionStage<JsonNode> executeRequest(\n        Endpoint endpoint, \n        Map<String, Object> parameters,\n        ExecutionContext context) {\n        \n        // Apply header forwarding rules\n        HttpHeaders forwardedHeaders = applyHeaderForwarding(\n            endpoint.getBaseConfig().getAuth().getHeaderForwarding(),\n            context.getHeaders()\n        );\n        \n        // Build request with forwarded headers\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(buildUri(endpoint, parameters))\n            .headers(forwardedHeaders)\n            .build();\n            \n        return httpClient.sendAsync(request, HttpResponse.BodyHandlers.ofString());\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"execution-context",children:"Execution Context"}),"\n",(0,a.jsxs)(n.p,{children:["Headers are carried through the execution chain via ",(0,a.jsx)(n.code,{children:"ExecutionContext"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public class ExecutionContext {\n    private final Map<String, String> headers;\n    private final String tenantId;\n    private final String userId;\n    \n    // Constructor and getters\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"debugging-header-forwarding",children:"Debugging Header Forwarding"}),"\n",(0,a.jsx)(n.h3,{id:"enable-debug-logging",children:"Enable Debug Logging"}),"\n",(0,a.jsxs)(n.p,{children:["Add to ",(0,a.jsx)(n.code,{children:"application.properties"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-properties",children:'# Enable header forwarding debug logs\nquarkus.log.category."com.mcphub.bridge.auth".level=DEBUG\nquarkus.log.category."com.mcphub.bridge.protocol".level=DEBUG\n'})}),"\n",(0,a.jsx)(n.h3,{id:"debug-output-example",children:"Debug Output Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"2024-01-15 10:30:15 DEBUG [RestProtocolAdapter] Applying header forwarding rules: 3\n2024-01-15 10:30:15 DEBUG [RestProtocolAdapter] Source header 'Authorization' \u2192 Target header 'Authorization'\n2024-01-15 10:30:15 DEBUG [RestProtocolAdapter] Source header 'X-Tenant-ID' \u2192 Target header 'X-Organization-ID'\n2024-01-15 10:30:15 DEBUG [RestProtocolAdapter] Header forwarding complete: 2 headers forwarded\n"})}),"\n",(0,a.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Issue: Header not being forwarded"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Check header name spelling in configuration"}),"\n",(0,a.jsx)(n.li,{children:"Verify header is present in test request"}),"\n",(0,a.jsx)(n.li,{children:"Check required field validation"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Issue: Backend receives wrong header name"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Verify targetHeader configuration"}),"\n",(0,a.jsx)(n.li,{children:"Check for header name conflicts"}),"\n",(0,a.jsx)(n.li,{children:"Review backend API documentation"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Issue: Authentication failures"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Verify token format and encoding"}),"\n",(0,a.jsx)(n.li,{children:"Check backend authentication requirements"}),"\n",(0,a.jsx)(n.li,{children:"Review header forwarding mapping"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"advanced-scenarios",children:"Advanced Scenarios"}),"\n",(0,a.jsx)(n.h3,{id:"dynamic-header-transformation",children:"Dynamic Header Transformation"}),"\n",(0,a.jsx)(n.p,{children:"Combine header forwarding with user variables:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "userVariables": [\n    {\n      "name": "tenantPrefix",\n      "type": "string",\n      "defaultValue": "org"\n    }\n  ],\n  "auth": {\n    "headerForwarding": [\n      {\n        "sourceHeader": "X-Tenant-ID",\n        "targetHeader": "X-{{tenantPrefix}}-ID",\n        "required": true\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"conditional-forwarding",children:"Conditional Forwarding"}),"\n",(0,a.jsx)(n.p,{children:"Forward headers based on endpoint configuration:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "endpoints": [\n    {\n      "name": "publicEndpoint",\n      "auth": {\n        "headerForwarding": []  // No headers forwarded\n      }\n    },\n    {\n      "name": "privateEndpoint", \n      "auth": {\n        "headerForwarding": [\n          {\n            "sourceHeader": "Authorization",\n            "required": true\n          }\n        ]\n      }\n    }\n  ]\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"multi-protocol-support",children:"Multi-Protocol Support"}),"\n",(0,a.jsx)(n.p,{children:"Header forwarding works across all supported protocols:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"REST APIs"}),": HTTP headers"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"gRPC Services"}),": Metadata forwarding"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"GraphQL APIs"}),": HTTP headers with GraphQL context"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SOAP Services"}),": SOAP headers and HTTP headers"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"../configuration/authentication.md",children:"Authentication Configuration"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/mcphub-docs/docs/latest/creating-mcps/variables/overview",children:"User Variables"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"../testing/mcp-testing.md",children:"Testing MCPs"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"../api-reference/admin-api.md",children:"Admin API"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);